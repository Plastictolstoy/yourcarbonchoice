<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Main Menu</title>
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Main Menu Styles */
        .main-menu {
            width: 90%;
            margin: 0 auto;
            padding: 20px;
            text-align: left;
        }

        .main-menu h2 {
            text-align: left;
            font-size: 24px;
            margin-bottom: 20px;
        }

        .button-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .button-container button {
            background: linear-gradient(to bottom, #ffffff, #cbc8c8);
            color: black;
            border: 1px solid green;
            padding: 10px 15px;
            margin: 5px 0;
            cursor: pointer;
            font-size: 12px;
            text-align: center;
            width: 200px;
            border-radius: 2px;
            font-weight: bold;
        }

        .button-container button.disabled {
            background: linear-gradient(to bottom, #ddd, #aaa);
            color: #999;
            cursor: not-allowed;
        }

        .sub-menu {
            display: none;
            margin-top: 20px;
        }

        .sub-menu.active {
            display: block;
        }

        .input-group {
            margin: 20px 0;
        }

        .input-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 20px;
            font-weight: bold;
        }

        .input-group small {
            font-size: 14px;
        }

        .input-group input {
            width: 300px;
            padding: 10px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 16px;
            margin-left: 80px;
            /* Add margin to the left */
        }

        .input-group select {
            width: 200px;
            padding: 10px;
            border: 1px solid #b5e7b5;
            border-radius: 6px;
            font-size: 16px;
            font-weight: bold;
        }

        .input-group .dropdown-wrapper {
            display: flex;
            gap: 20px;
            /* Space between dropdowns */
            margin-left: 80px;
            /* Move the entire group of dropdowns to the right */
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            width: 320px;
            /* Adjusted width */
            padding-left: 80px;
            /* Add padding to the left */
        }

        .button-group button {
            width: 48%;
            background-color: rgb(255, 153, 0);
            color: white;
            border: none;
            padding: 10px;
            cursor: pointer;
            font-size: 16px;
            text-align: center;
            border-radius: 12px;
            box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
            text-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);
        }

        .button-group button img {
            vertical-align: middle;
            margin-right: 5px;
            width: 16px;
            /* Adjusted width */
            height: 16px;
            /* Adjusted height */
        }

        p {
            font-size: 12px;
            /* Reduce paragraph font size */
            width: 30%;
            /* Ensures the paragraph doesn't extend beyond other elements */
            line-height: 1.5;
            margin-left: 80px;
            /* Match the left margin of other elements */
        }

        .single-dropdown {
            margin-left: 80px;
            /* Move the single dropdown to the right */
        }
    </style>
</head>

<body>
    <main>
        <div class="main-menu">
            <!--<h2>Main Menu</h2>-->
            <div class="button-container main-buttons">
                <button onclick="showSubMenu('start-new')">Start a new calculation</button>
                <button onclick="showSubMenu('load-calculation')">Load a saved calculation</button>
                <button class="disabled">Reference section</button>
                <button class="disabled">Other modules</button>
            </div>
            <div id="start-new" class="sub-menu">
                <!--<h2>Start a new calculation</h2>-->
                <div class="button-container">
                    <button class="disabled">Snapshot</button>
                    <button onclick="showSubMenu('quick-detailed')">Quick</button>
                    <button onclick="showSubMenu('quick-detailed')">Detailed</button>
                    <button onclick="showMainMenu()">Main Menu</button>
                </div>
            </div>
            <div id="quick-detailed" class="sub-menu">
                <!--<h2>Quick / Detailed</h2>-->
                <div class="input-group">
                    <label for="calc-file">Name your calculation file: <br> <small>(25 chars maximum)</small></label>
                    <input type="text" id="calc-file" placeholder="MyCalculationFile" maxlength="25">
                </div>
                <div class="input-group">
                    <label for="comp-files">Choose your comparison files:</label>
                    <div class="dropdown-wrapper">
                        <select id="comp-file1">
                            <option value="">VIC typical</option>
                            <!-- Options will be dynamically added -->
                        </select>
                        <select id="comp-file2">
                            <option value="">VIC green</option>
                            <!-- Options will be dynamically added -->
                        </select>
                    </div>
                </div>
                <p>As you proceed through this program, your calculation results are
                    compared against two other files. These can be preset example files,
                    or other saved calculations.</p>
                <div class="button-group">
                    <button onclick="showSubMenu('start-new')">
                        <img src="Assets/cancel-icon.png" alt="Cancel"> Cancel
                    </button>
                    <button onclick="startCalculation()">
                        <img src="Assets/done-icon.png" alt="Done"> Done
                    </button>
                </div>
            </div>
            <div id="load-calculation" class="sub-menu">
                <!--<h2>Load a saved calculation</h2>-->
                <div class="input-group">
                    <label for="saved-calc">Choose your calculation file:</label>
                    <select id="saved-calc" class="single-dropdown">
                        <!-- Options will be dynamically added -->
                    </select>
                </div>
                <p>More text as required about calculation files.</p>
                <div class="button-group">
                    <button onclick="showMainMenu()">
                        <img src="Assets/cancel-icon.png" alt="Cancel"> Cancel
                    </button>
                    <button onclick="loadCalculation()">
                        <img src="Assets/done-icon.png" alt="Done"> Done
                    </button>
                </div>
            </div>
        </div>
    </main>
    <script>
        function showSubMenu(id) {
            // Hide all sub menus
            document.querySelectorAll('.sub-menu').forEach(menu => {
                menu.classList.remove('active');
            });
            // Show the selected sub menu
            document.getElementById(id).classList.add('active');
            // Hide the main buttons
            document.querySelector('.main-buttons').style.display = 'none';
        }

        function showMainMenu() {
            // Hide all sub menus
            document.querySelectorAll('.sub-menu').forEach(menu => {
                menu.classList.remove('active');
            });
            // Show the main buttons
            document.querySelector('.main-buttons').style.display = 'flex';
        }

        function startCalculation() {
            // Redirect to AirTravel module
            window.location.href = 'AirTravel.html';
        }

        function loadCalculation() {
            const selectedFile = document.getElementById('saved-calc').value;
            if (selectedFile) {
                // Load the selected file (Implement the logic as required)
                console.log(`Loading file: ${selectedFile}`);
                alert(`Loaded file: ${selectedFile}`);
                // Redirect to AirTravel module (need to fix later)
                window.location.href = 'AirTravel.html';
            } else {
                alert('Please select a file to load.');
            }
        }

        // Load saved files into dropdowns
        function loadSavedFiles() {
            const savedFiles = Object.keys(localStorage);
            const savedCalcDropdown = document.getElementById('saved-calc');
            const compFile1Dropdown = document.getElementById('comp-file1');
            const compFile2Dropdown = document.getElementById('comp-file2');

            savedFiles.forEach(file => {
                const option1 = document.createElement('option');
                option1.value = file;
                option1.text = file;
                savedCalcDropdown.add(option1);

                const option2 = option1.cloneNode(true);
                const option3 = option1.cloneNode(true);
                compFile1Dropdown.add(option2);
                compFile2Dropdown.add(option3);
            });
        }

        window.onload = loadSavedFiles;
    </script>
</body>

</html>